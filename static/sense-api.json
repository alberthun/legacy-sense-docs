{
  "openapi": "3.0.1",
  "info": {
    "title": "Sense Api",
    "version": "2.0.0",
    "description": "# Introduction\nThe Sense API is a RESTful JSON API that allows developers to access the majority of the Sense platformâ€™s functionality, such as:\n\n- Creating and managing user accounts within the organization\n- Configuring data channels and projects to organize rules and collections of data streams\n- Defining landmarks around areas of interest for geographical-based triggers\n- Specifying additional data attributes or time constraints for evaluation\n- Building rules around these various conditions and the corresponding actions to be executed\n\n# Authenticate\nThe Sense API authenticates requests with a user-specific JSON web token through Bearer authentication.\n\nTo get this token, the user makes a POST [/v2/login](/apis/sense-api#/Authenticate/post_v2_login) request with their email and password combination. _These are the same credentials used to log into your account on the dashboard._\n"
  },
  "paths": {
    "": {
      "operationId": "get",
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "version": "0.1.1"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "api version"
      }
    },
    "/v2/signup": {
      "operationId": "post-v2-signup",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "password": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 64
                  },
                  "organizationName": {
                    "type": "string",
                    "minLength": 1
                  },
                  "locale": {
                    "type": "object",
                    "properties": {
                      "timezone": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false,
                "required": ["email", "password", "name", "organizationName"]
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "success"
          },
          "409": {
            "description": "user already exists"
          }
        },
        "summary": "signup user",
        "tags": ["authenticate"]
      }
    },
    "/v2/verify-email": {
      "operationId": "post-v2-verify-email",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "token": {
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": ["token"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwMUNTMUJEUVIxRlg0VjJUU1JSUzY3Qzc2QSIsInR5cGUiOiJhY2Nlc3MiLCJvcmdhbml6YXRpb25JZCI6IjAxQ1MxQkRRVEVHNVZENVpEVzlBUTBTVDI0Iiwia2lkIjoidXNlciIsImlhdCI6MTUzODcxNzU3MiwiZXhwIjoxNTQxMzA5NTcyfQ.pzl1kDxqZNMSKccvWEIyWy6KkCHt8oDV_UJb3J9Srzg"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "user does not exists"
          }
        },
        "summary": "verify email",
        "tags": ["authenticate"]
      }
    },
    "/v2/login": {
      "operationId": "post-v2-login",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": ["email", "password"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwMUNTMUJEUjEyUkdUNTM3MDhIUFQyRlMwOCIsInR5cGUiOiJhY2Nlc3MiLCJvcmdhbml6YXRpb25JZCI6IjAxQ1MxQkRSM0hXVEZDRVdCUEQzRlBQWFc1Iiwia2lkIjoidXNlciIsImlhdCI6MTUzODcxNzU3MywiZXhwIjoxNTQxMzA5NTczfQ.g1DmcdtiEYZnElBZH-mx4JTvMM02PSDX9KVIOXheqqY"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Invalid authorization credentials"
          },
          "403": {
            "description": "you need to verify your email"
          }
        },
        "summary": "login",
        "tags": ["authenticate"]
      }
    },
    "/v2/request-password": {
      "operationId": "post-v2-request-password",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email"
                  }
                },
                "additionalProperties": false,
                "required": ["email"]
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "success"
          }
        },
        "summary": "request new password",
        "tags": ["authenticate"]
      }
    },
    "/v2/set-password": {
      "operationId": "post-v2-set-password",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "token": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": ["token", "password"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwMUNTMUJEUjlNQ1IwWDZBOE4zMlpURjRIMCIsInR5cGUiOiJhY2Nlc3MiLCJvcmdhbml6YXRpb25JZCI6IjAxQ1MxQkRSQzJCQTk3TjI0MzA2TVlEQVcyIiwia2lkIjoidXNlciIsImlhdCI6MTUzODcxNzU3MywiZXhwIjoxNTQxMzA5NTczfQ.gpOFHALfw-7r8K0ZRNqTqfgWYQerylTVfkoNSrhY5YM"
                      }
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "user does not exists"
          }
        },
        "summary": "set new password",
        "tags": ["authenticate"]
      }
    },
    "/v2/set-organization": {
      "operationId": "post-v2-set-organization",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "organizationId": {
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": ["organizationId"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwMUNTMUJEUkYwR01LUDdOMzFBSjZHN0FDViIsInR5cGUiOiJhY2Nlc3MiLCJvcmdhbml6YXRpb25JZCI6IjAxQ1MxQkRSSEtXM0JLSzRYRktHTllKRjU4Iiwia2lkIjoidXNlciIsImlhdCI6MTUzODcxNzU3MywiZXhwIjoxNTQxMzA5NTczfQ.mjXTIGfb8m_7qzq4nKDROQRvhVORlJxflbatZKw4dWY"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "you don't have access to the organiation by that id"
          }
        },
        "summary": "change organization (token)",
        "tags": ["authenticate"]
      }
    },
    "/v2/accept-invite": {
      "operationId": "post-v2-accept-invite",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "token": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string",
                    "maxLength": 64
                  },
                  "password": {
                    "type": "string"
                  },
                  "locale": {
                    "type": "object",
                    "properties": {
                      "timezone": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false,
                "required": ["token", "name", "password"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwMUNTMUJEUVhaUjg5NDhIMFJLMFJXQ0FERSIsInR5cGUiOiJhY2Nlc3MiLCJvcmdhbml6YXRpb25JZCI6IjAxQ1MxQkRRWFJDWTQ4V1Y4WVJFTlBLQzY0Iiwia2lkIjoidXNlciIsImlhdCI6MTUzODcxNzU3MywiZXhwIjoxNTQxMzA5NTczfQ.frpdbPO6kbRJPOSEKg8BOgp4D1FXNtUUxWncUHRaEjU"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "inviteOrganizationId does not match an organization"
          },
          "401": {
            "description": "invite has been revoked"
          }
        },
        "summary": "accept invite",
        "tags": ["authenticate"]
      }
    },
    "/v2/users": {
      "operationId": "get-v2-users",
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "id": "01CS1BDXZYY4VZYS41FS1AD0K8",
                          "name": "monsterbob",
                          "email": "email-0.8055076712890665@bob.com",
                          "verifiedEmail": false,
                          "locale": {},
                          "createdAt": "2018-10-05T03:32:59.000Z",
                          "updatedAt": "2018-10-05T03:32:59.000Z",
                          "permissions": {
                            "admin": true
                          },
                          "inviteOutstanding": false
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "list users",
        "tags": ["users"]
      }
    },
    "/v2/users/me": {
      "operationId": "patch-v2-users-me",
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CS1BDY61907TP7RPGQW53J97",
                        "name": "monsterbob",
                        "email": "email-0.5980337367690685@bob.com",
                        "verifiedEmail": false,
                        "locale": {},
                        "createdAt": "2018-10-05T03:32:59.000Z",
                        "updatedAt": "2018-10-05T03:32:59.000Z"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "get authenticated user",
        "tags": ["users"]
      },
      "patch": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "locale": {
                    "type": "object",
                    "properties": {
                      "timezone": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CS1BDYAD6JHN7QGCE514MH8W",
                        "name": "monsterbob",
                        "email": "email-0.9454611701502071@bob.com",
                        "verifiedEmail": false,
                        "locale": {
                          "timezone": "Europa/Amsterdam"
                        },
                        "createdAt": "2018-10-05T03:32:59.000Z",
                        "updatedAt": "2018-10-05T05:32:59.734Z"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "update authenticated user",
        "tags": ["users"]
      }
    },
    "/v2/users/invite": {
      "operationId": "post-v2-users-invite",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "emails": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "email"
                    }
                  },
                  "role": {
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": ["emails"]
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "success"
          },
          "401": {
            "description": "only organization admins can invite users"
          }
        },
        "summary": "invite users",
        "tags": ["users"]
      }
    },
    "/v2/organizations": {
      "operationId": "post-v2-organizations",
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "id": "01CS1BDZ68E9K4PBGNBX547Q2G",
                          "name": "my organization",
                          "createdAt": "2018-10-05T03:33:00.000Z",
                          "updatedAt": "2018-10-05T03:33:00.000Z",
                          "permissions": {
                            "admin": true
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "get organizations",
        "tags": ["organizations"]
      },
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CS1BDZC14ZDKMDQ5C7PGYP9S",
                        "name": "new organization 1538717580650",
                        "updatedAt": "2018-10-05T05:33:00.673Z",
                        "createdAt": "2018-10-05T05:33:00.673Z",
                        "permissions": {
                          "admin": true
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "create organization",
        "tags": ["organizations"]
      }
    },
    "/v2/organizations/:organization": {
      "parameters": [
        {
          "name": "organization",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "delete-v2-organizations-:organization",
      "patch": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CS1BDZFRT78Q3QX835V8ET10",
                        "name": "new name",
                        "createdAt": "2018-10-05T03:33:00.000Z",
                        "updatedAt": "2018-10-05T05:33:00.829Z",
                        "permissions": {
                          "admin": true
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "update organization by id",
        "tags": ["organizations"]
      },
      "delete": {
        "responses": {
          "204": {
            "description": "success"
          }
        },
        "summary": "delete organization by id",
        "tags": ["organizations"]
      }
    },
    "/v2/channels": {
      "operationId": "post-v2-channels",
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "id": "01CS1BDK429WXHS2BT3YZE4Y99",
                          "organizationId": "01CS1BDK3PRT8TA5RTKG0D3WY2",
                          "schemaId": "01CS1BDK42P9NN8C3QCMMJTRK2",
                          "name": "my project",
                          "type": "android",
                          "method": "",
                          "credentials": null,
                          "createdAt": "2018-10-05T03:32:48.000Z",
                          "updatedAt": "2018-10-05T03:32:48.000Z",
                          "projectIds": []
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "list channels",
        "tags": ["channels"]
      },
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "projectIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "credentials": {
                    "enum": [null],
                    "type": "string"
                  },
                  "method": {
                    "enum": [null],
                    "type": "string"
                  },
                  "type": {
                    "enum": ["android", "ios", "gateway"],
                    "type": "string"
                  },
                  "schemaId": {
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": ["name", "type"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CS1BDKAV2GXQN2GR1TGN0P76",
                        "name": "new name",
                        "type": "gateway",
                        "schemaId": "01CS1BDK95EJ0BD3T0EF8YHN63",
                        "organizationId": "01CS1BDK8MW3GWA0NWJND9T9S0",
                        "updatedAt": "2018-10-05T05:32:48.347Z",
                        "createdAt": "2018-10-05T05:32:48.347Z",
                        "projectIds": []
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "bad schemaId"
          }
        },
        "summary": "create channel",
        "tags": ["channels"]
      }
    },
    "/v2/channels/:channel": {
      "parameters": [
        {
          "name": "channel",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "delete-v2-channels-:channel",
      "patch": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "projectIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "credentials": {
                    "enum": [null],
                    "type": "string"
                  },
                  "method": {
                    "enum": [null],
                    "type": "string"
                  },
                  "type": {
                    "enum": ["android", "ios", "gateway"],
                    "type": "string"
                  },
                  "schemaId": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "organizationId": {
                    "type": "string"
                  },
                  "updatedAt": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "createdAt": {
                    "type": "string",
                    "format": "date-time"
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CS1BDKHA7RCHN57CM116C7MA",
                        "organizationId": "01CS1BDKGP5J2HKCFD62WT3Q0M",
                        "schemaId": "01CS1BDKHA55QPC6GGTH6SGY7H",
                        "name": "new name",
                        "type": "android",
                        "method": "",
                        "credentials": null,
                        "createdAt": "2018-10-05T03:32:48.000Z",
                        "updatedAt": "2018-10-05T05:32:48.580Z",
                        "projectIds": ["01CS1BDKH6D0DGX0D62C71TN4C"]
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "update channel by id",
        "tags": ["channels"]
      },
      "delete": {
        "responses": {},
        "summary": "delete channel by id",
        "tags": ["channels"]
      }
    },
    "/v2/channels/:channel/config": {
      "parameters": [
        {
          "name": "channel",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "post-v2-channels-:channel-config",
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "cadence": 10000
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "get channel config",
        "tags": ["channels"]
      },
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "config": {
                    "type": "object",
                    "properties": {},
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false,
                "required": ["config"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "cadence": 10
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "set channel config",
        "tags": ["channels"]
      }
    },
    "/v2/channels/:channel/api-keys": {
      "parameters": [
        {
          "name": "channel",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "post-v2-channels-:channel-api-keys",
      "get": {
        "responses": {},
        "summary": "get api keys for a channel",
        "tags": ["channels"]
      },
      "post": {
        "responses": {},
        "summary": "create api keys for a channel",
        "tags": ["channels"]
      }
    },
    "/v2/channels/:channel/api-keys/:apiKey/enable": {
      "parameters": [
        {
          "name": "channel",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "apiKey",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "post-v2-channels-:channel-api-keys-:apiKey-enable",
      "post": {
        "responses": {},
        "summary": "enable api key",
        "tags": ["channels"]
      }
    },
    "/v2/channels/:channel/api-keys/:apiKey/disable": {
      "parameters": [
        {
          "name": "channel",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "apiKey",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "post-v2-channels-:channel-api-keys-:apiKey-disable",
      "post": {
        "responses": {},
        "summary": "disable api key",
        "tags": ["channels"]
      }
    },
    "/v2/channels/:channel/api-keys/:apiKey": {
      "parameters": [
        {
          "name": "channel",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "apiKey",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "delete-v2-channels-:channel-api-keys-:apiKey",
      "delete": {
        "responses": {},
        "summary": "delete api key",
        "tags": ["channels"]
      }
    },
    "/v2/schemas": {
      "operationId": "post-v2-schemas",
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "id": "01CS1BDTCW0DBC6T9B7CRBPZ7E",
                          "organizationId": "01CS1BDTCHDMDS9P6H1Y9YPYTN",
                          "name": "some name",
                          "format": "json",
                          "type": "default",
                          "fields": [
                            {
                              "id": "path",
                              "type": "string",
                              "isArray": true
                            }
                          ],
                          "createdAt": "2018-10-05T03:32:55.000Z",
                          "updatedAt": "2018-10-05T03:32:55.000Z"
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "list schemas",
        "tags": ["schemas"]
      },
      "post": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CS1BDT9DJYQNQPGGG4CG2QD9",
                        "type": "default",
                        "organizationId": "01CS1BDT8CQJ2M05W7HZ4ASWHG",
                        "name": "name 1538717575446",
                        "format": "json",
                        "fields": [
                          {
                            "id": "path",
                            "type": "string"
                          }
                        ],
                        "updatedAt": "2018-10-05T05:32:55.469Z",
                        "createdAt": "2018-10-05T05:32:55.469Z"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "create schema",
        "tags": ["schemas"]
      }
    },
    "/v2/schemas/:schema": {
      "parameters": [
        {
          "name": "schema",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "delete-v2-schemas-:schema",
      "patch": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CS1BDTTW5JKEDCK6C9BQD3A5",
                        "organizationId": "01CS1BDTTH4G3HZT57253RMDV9",
                        "name": "schema-name",
                        "format": "json",
                        "type": "default",
                        "fields": [
                          {
                            "id": "path",
                            "type": "string",
                            "isArray": true
                          },
                          {
                            "id": "other",
                            "type": "string"
                          }
                        ],
                        "createdAt": "2018-10-05T03:32:56.000Z",
                        "updatedAt": "2018-10-05T05:32:56.155Z"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "update schema by id",
        "tags": ["schemas"]
      },
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CS1BDTGZ529GV8Y55BYHH64F",
                        "organizationId": "01CS1BDTGP0M75S685X9RC6A4T",
                        "name": "some name",
                        "format": "json",
                        "type": "default",
                        "fields": [
                          {
                            "id": "path",
                            "type": "string",
                            "isArray": true
                          }
                        ],
                        "createdAt": "2018-10-05T03:32:55.000Z",
                        "updatedAt": "2018-10-05T03:32:55.000Z"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "get schema by id",
        "tags": ["schemas"]
      },
      "delete": {
        "responses": {
          "204": {
            "description": "success"
          }
        },
        "summary": "delete schema by id",
        "tags": ["schemas"]
      }
    },
    "/v2/projects": {
      "operationId": "post-v2-projects",
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "id": "01CS1BE03TV6SB96KPMPQ9B1ME",
                          "organizationId": "01CS1BE02R4374X9EWB18B91XM",
                          "name": "my project",
                          "createdAt": "2018-10-05T03:33:01.000Z",
                          "updatedAt": "2018-10-05T03:33:01.000Z",
                          "channelIds": ["01CS1BE047NZ8S1CXFYPZWAV8N"]
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "list projects",
        "tags": ["projects"]
      },
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "channelIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false,
                "required": ["name"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CS1BE0CMRZ7YB7KZA786K7E4",
                        "name": "new project",
                        "organizationId": "01CS1BE0A39TM0YZE8DRNT2541",
                        "updatedAt": "2018-10-05T05:33:01.716Z",
                        "createdAt": "2018-10-05T05:33:01.716Z",
                        "channelIds": ["01CS1BE0ARSEYP3AFQW8MFXM9S"]
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "create project",
        "tags": ["projects"]
      }
    },
    "/v2/projects/:project": {
      "parameters": [
        {
          "name": "project",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "delete-v2-projects-:project",
      "patch": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "organizationId": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "channelIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "updatedAt": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "createdAt": {
                    "type": "string",
                    "format": "date-time"
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CS1BE0G0V04BYBNFE1MS3SSG",
                        "organizationId": "01CS1BE0FR259BDSF9PT9A5X9K",
                        "name": "new project",
                        "createdAt": "2018-10-05T03:33:01.000Z",
                        "updatedAt": "2018-10-05T05:33:01.850Z",
                        "channelIds": []
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "update project by id",
        "tags": ["projects"]
      },
      "delete": {
        "responses": {
          "204": {
            "description": "success"
          }
        },
        "summary": "delete project by id",
        "tags": ["projects"]
      }
    },
    "/v2/rules": {
      "operationId": "post-v2-rules",
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "id": "01CS1BDS7JJJMX5DGP6VVMKWVP",
                          "projectId": "01CS1BDS7F0HG1FPFHQR2JZP6Y",
                          "name": "rule",
                          "type": "cloud",
                          "description": "",
                          "actions": [],
                          "conditionsAndActions": [],
                          "conditions": "event.path == 1",
                          "gatewayIds": [],
                          "channelIds": [],
                          "createdAt": "2018-10-05T03:32:54.000Z",
                          "updatedAt": "2018-10-05T03:32:54.000Z",
                          "generator": "custom",
                          "enabled": true
                        }
                      ],
                      "meta": {
                        "count": 1
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "list rules",
        "tags": ["rules"]
      },
      "post": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CS1BDSMHB53YAKDCNEX7CJ3T",
                        "conditionsAndActions": [],
                        "gatewayIds": [],
                        "channelIds": [],
                        "generator": "custom",
                        "name": "somename",
                        "type": "cloud",
                        "projectId": "01CS1BDSM2A3BW1GHQRTM509K6",
                        "conditionsObject": [
                          {
                            "type": "and",
                            "items": [
                              {
                                "type": "schedule",
                                "date": {
                                  "from": "2018-09-05T06:11:24.000Z"
                                },
                                "timeOfDay": {
                                  "from": 1,
                                  "to": 100
                                }
                              },
                              {
                                "type": "and",
                                "items": [
                                  {
                                    "type": "matchAttribute",
                                    "channelId": "someid",
                                    "attribute": "event.name",
                                    "operator": "==",
                                    "value": "monster",
                                    "description": "When event (event.name) from \"unknown channel someid\" is equal to monster"
                                  }
                                ]
                              }
                            ]
                          }
                        ],
                        "actions": [
                          {
                            "type": "sms",
                            "message": "hello world",
                            "recipients": {
                              "reflect": true,
                              "telephoneNumbers": ["12342323"]
                            }
                          }
                        ],
                        "enabled": true,
                        "properties": {},
                        "conditions": "(timeOfDay('<', 1) && timeOfDay('>', 100) && date('<', '2018-09-05T06:11:24.000Z') && event.channelId == 'someid' && event.name == 'monster')",
                        "updatedAt": "2018-10-05T05:32:54.805Z",
                        "createdAt": "2018-10-05T05:32:54.805Z"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "you dont have access to this project"
          }
        },
        "summary": "create rules",
        "tags": ["rules"]
      }
    },
    "/v2/rules/:rule": {
      "parameters": [
        {
          "name": "rule",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "delete-v2-rules-:rule",
      "get": {
        "responses": {},
        "summary": "get rule by id",
        "tags": ["rules"]
      },
      "patch": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CS1BDSQW7HBT3WFQ0F3HNH24",
                        "projectId": "01CS1BDSQSVES06XY21NG5JA0C",
                        "name": "new name",
                        "type": "cloud",
                        "description": "",
                        "actions": [
                          {
                            "type": "sms",
                            "message": "hello world",
                            "recipients": {
                              "reflect": true,
                              "telephoneNumbers": ["12342323"]
                            }
                          }
                        ],
                        "conditionsAndActions": [],
                        "conditions": "event.channelId == 'someid' && event.name == 'tony\\'s'",
                        "conditionsObject": [
                          {
                            "type": "and",
                            "items": [
                              {
                                "type": "matchAttribute",
                                "channelId": "someid",
                                "attribute": "event.name",
                                "operator": "==",
                                "value": "tony's",
                                "description": "When event (event.name) from \"unknown channel someid\" is equal to tony's"
                              }
                            ]
                          }
                        ],
                        "gatewayIds": [],
                        "channelIds": [],
                        "createdAt": "2018-10-05T03:32:54.000Z",
                        "updatedAt": "2018-10-05T05:32:54.927Z",
                        "generator": "custom",
                        "enabled": true
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "failed to convert to valid conditions"
          }
        },
        "summary": "update rule by id",
        "tags": ["rules"]
      },
      "delete": {
        "responses": {
          "204": {
            "description": "success"
          }
        },
        "summary": "delete rule by id",
        "tags": ["rules"]
      }
    },
    "/v2/rules/validate-conditions": {
      "operationId": "post-v2-rules-validate-conditions",
      "post": {
        "responses": {},
        "summary": "validate condition string",
        "tags": ["rules"]
      }
    },
    "/v2/devices/:id": {
      "parameters": [
        {
          "name": "id",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "get-v2-devices-:id",
      "get": {
        "responses": {},
        "summary": "get device by id",
        "tags": ["devices"]
      }
    },
    "/v2/devices/alias-lookup": {
      "operationId": "post-v2-devices-alias-lookup",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "type": {
                    "enum": ["tel"],
                    "type": "string"
                  },
                  "value": {
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": ["type", "value"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": "device id"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "look up device by alias",
        "tags": ["devices"]
      }
    },
    "/v2/devices/search": {
      "operationId": "post-v2-devices-search",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "channelId": {
                    "type": "string"
                  },
                  "projectId": {
                    "type": "string"
                  },
                  "filter": {
                    "type": "object",
                    "properties": {},
                    "additionalProperties": false
                  },
                  "limit": {
                    "default": 20,
                    "type": "number"
                  },
                  "offset": {
                    "type": "number"
                  },
                  "sort": {
                    "type": "object",
                    "properties": {
                      "field": {
                        "default": "createdAt",
                        "type": "string"
                      },
                      "order": {
                        "default": "desc",
                        "enum": ["desc", "asc"],
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "id": "01CS1BDPG9WYJGE1JVFPSJRHK2",
                          "sensors": "",
                          "name": "device",
                          "channelId": "01CS1BDPFFQ6MF9KB4BJKBEMYT",
                          "organizationId": "01CS1BDPF4RC8WGNQVEAW5GMDV",
                          "tags": ["working"],
                          "updatedAt": "2018-10-05T05:32:51.594Z",
                          "createdAt": "2018-10-05T05:32:51.594Z"
                        }
                      ],
                      "meta": {
                        "filteredTotal": 2,
                        "total": 2
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "list devices",
        "tags": ["devices"]
      }
    },
    "/v2/devices": {
      "operationId": "post-v2-devices",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "model": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "channelId": {
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": ["channelId"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CS1BDPMSM8GZ322E94E4WKAP",
                        "sensors": "",
                        "name": "device",
                        "channelId": "01CS1BDPM6JCF3FQ08A8DCK72S",
                        "organizationId": "01CS1BDPKZC0SAS3F6FV2JR6QT",
                        "updatedAt": "2018-10-05T05:32:51.737Z",
                        "createdAt": "2018-10-05T05:32:51.737Z",
                        "tags": []
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "create device",
        "tags": ["devices"]
      }
    },
    "/v2/devices/:device": {
      "parameters": [
        {
          "name": "device",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "delete-v2-devices-:device",
      "patch": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "model": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CS1BDPVK420V48RAGFVGSK34",
                        "channelId": "01CS1BDPVEW3D3WR63TDK2X6WX",
                        "organizationId": "01CS1BDPV4WP75R8JKXM7AWC8M",
                        "manufacturer": "",
                        "model": "",
                        "name": "new name",
                        "type": "",
                        "sensors": "",
                        "createdAt": "2018-10-05T03:32:51.000Z",
                        "updatedAt": "2018-10-05T05:32:52.011Z",
                        "tags": []
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "update device by id",
        "tags": ["devices"]
      },
      "delete": {
        "responses": {
          "204": {
            "description": "success"
          }
        },
        "summary": "delete device by id",
        "tags": ["devices"]
      }
    },
    "/v2/devices/:device/config": {
      "parameters": [
        {
          "name": "device",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "post-v2-devices-:device-config",
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "cadence": 0
                      },
                      "includes": [
                        {
                          "type": "channel",
                          "data": {
                            "cadence": 10000
                          }
                        },
                        {
                          "type": "effective",
                          "data": {
                            "cadence": 0
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "get device config",
        "tags": ["devices"]
      },
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "config": {
                    "type": "object",
                    "properties": {},
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false,
                "required": ["config"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "cadence": 0
                      },
                      "includes": [
                        {
                          "type": "channel",
                          "data": {
                            "cadence": 10000
                          }
                        },
                        {
                          "type": "effective",
                          "data": {
                            "cadence": 0
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "set device config",
        "tags": ["devices"]
      }
    },
    "/v2/landmarks/search": {
      "operationId": "post-v2-landmarks-search",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "projectId": {
                    "type": "string"
                  },
                  "limit": {
                    "default": 20,
                    "type": "number"
                  },
                  "offset": {
                    "type": "number"
                  },
                  "sort": {
                    "type": "object",
                    "properties": {
                      "field": {
                        "default": "createdAt",
                        "type": "string"
                      },
                      "order": {
                        "default": "desc",
                        "enum": ["desc", "asc"],
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "filter": {
                    "type": "object",
                    "properties": {},
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "id": "01CS1BDMTB72YJ46MGRD6GJV9R",
                          "name": "landmarkA",
                          "projectId": "01CS1BDMT7G02QPBSN9SYEHDE0",
                          "type": "geometry",
                          "model": {
                            "type": "circle",
                            "geometry": {
                              "lat": 45.6361321,
                              "lon": 13.061487599999964,
                              "radius": 1
                            }
                          },
                          "createdAt": 0,
                          "organizationId": "01CS1BDMSWCVNCHBV2D1HH2H8P"
                        },
                        {
                          "id": "01CS1BDMTZMBQM36E5HTFYRQCX",
                          "name": "landmarkB",
                          "projectId": "01CS1BDMT7G02QPBSN9SYEHDE0",
                          "type": "geometry",
                          "model": {
                            "type": "polygon",
                            "geometry": {
                              "points": [
                                {
                                  "lat": 45.6361321,
                                  "lon": 13.061487599999964
                                },
                                {
                                  "lat": 45.6361321,
                                  "lon": 13.061487599999964
                                },
                                {
                                  "lat": 45.6361321,
                                  "lon": 13.061487599999964
                                }
                              ]
                            }
                          },
                          "createdAt": 10,
                          "organizationId": "01CS1BDMSWCVNCHBV2D1HH2H8P"
                        }
                      ],
                      "meta": {
                        "filteredTotal": 2,
                        "total": 2
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "list landmarks",
        "tags": ["landmark"]
      }
    },
    "/v2/landmarks": {
      "operationId": "post-v2-landmarks",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "projectId": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "type": {
                    "default": "geometry",
                    "enum": ["geometry"],
                    "type": "string"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "address": {
                    "type": "string"
                  },
                  "model": {
                    "oneOf": [
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "enum": ["polygon", "rectangle", "circle"],
                            "type": "string"
                          },
                          "geometry": {
                            "type": "object",
                            "properties": {
                              "points": {
                                "type": "array",
                                "minItems": 3,
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "lat": {
                                      "type": "number"
                                    },
                                    "lon": {
                                      "type": "number"
                                    }
                                  },
                                  "additionalProperties": false,
                                  "required": ["lat", "lon"]
                                }
                              }
                            },
                            "additionalProperties": false
                          }
                        },
                        "additionalProperties": false,
                        "required": ["type", "geometry"]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "enum": ["polygon", "rectangle", "circle"],
                            "type": "string"
                          },
                          "geometry": {
                            "type": "object",
                            "properties": {
                              "nw": {
                                "type": "object",
                                "properties": {
                                  "lat": {
                                    "type": "number"
                                  },
                                  "lon": {
                                    "type": "number"
                                  }
                                },
                                "additionalProperties": false,
                                "required": ["lat", "lon"]
                              },
                              "se": {
                                "type": "object",
                                "properties": {
                                  "lat": {
                                    "type": "number"
                                  },
                                  "lon": {
                                    "type": "number"
                                  }
                                },
                                "additionalProperties": false,
                                "required": ["lat", "lon"]
                              }
                            },
                            "additionalProperties": false,
                            "required": ["nw", "se"]
                          }
                        },
                        "additionalProperties": false,
                        "required": ["type", "geometry"]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "enum": ["polygon", "rectangle", "circle"],
                            "type": "string"
                          },
                          "geometry": {
                            "type": "object",
                            "properties": {
                              "center": {
                                "type": "object",
                                "properties": {
                                  "lat": {
                                    "type": "number"
                                  },
                                  "lon": {
                                    "type": "number"
                                  }
                                },
                                "additionalProperties": false,
                                "required": ["lat", "lon"]
                              },
                              "radius": {
                                "type": "number"
                              }
                            },
                            "additionalProperties": false,
                            "required": ["radius"]
                          }
                        },
                        "additionalProperties": false,
                        "required": ["type", "geometry"]
                      }
                    ]
                  }
                },
                "additionalProperties": false,
                "required": ["projectId", "name", "model"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CS1BDNA7MR8ANB0D643JCJ9F",
                        "name": "landmark",
                        "projectId": "01CS1BDN9N8YB3XRVSD3KKMEBC",
                        "type": "geometry",
                        "model": {
                          "type": "rectangle",
                          "geometry": {
                            "se": {
                              "lat": 45.6361321,
                              "lon": 13.061487599999964
                            },
                            "nw": {
                              "lat": 90,
                              "lon": 80
                            }
                          }
                        },
                        "updatedAt": "2018-10-05T05:32:50.376Z",
                        "createdAt": "2018-10-05T05:32:50.376Z"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "create landmark",
        "tags": ["landmark"]
      }
    },
    "/v2/landmarks/:landmark": {
      "parameters": [
        {
          "name": "landmark",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "delete-v2-landmarks-:landmark",
      "get": {
        "responses": {},
        "summary": "get landmark by id",
        "tags": ["landmark"]
      },
      "patch": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "projectId": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "type": {
                    "default": "geometry",
                    "enum": ["geometry"],
                    "type": "string"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "address": {
                    "type": "string"
                  },
                  "model": {
                    "oneOf": [
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "enum": ["polygon", "rectangle", "circle"],
                            "type": "string"
                          },
                          "geometry": {
                            "type": "object",
                            "properties": {
                              "points": {
                                "type": "array",
                                "minItems": 3,
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "lat": {
                                      "type": "number"
                                    },
                                    "lon": {
                                      "type": "number"
                                    }
                                  },
                                  "additionalProperties": false,
                                  "required": ["lat", "lon"]
                                }
                              }
                            },
                            "additionalProperties": false
                          }
                        },
                        "additionalProperties": false,
                        "required": ["type", "geometry"]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "enum": ["polygon", "rectangle", "circle"],
                            "type": "string"
                          },
                          "geometry": {
                            "type": "object",
                            "properties": {
                              "nw": {
                                "type": "object",
                                "properties": {
                                  "lat": {
                                    "type": "number"
                                  },
                                  "lon": {
                                    "type": "number"
                                  }
                                },
                                "additionalProperties": false,
                                "required": ["lat", "lon"]
                              },
                              "se": {
                                "type": "object",
                                "properties": {
                                  "lat": {
                                    "type": "number"
                                  },
                                  "lon": {
                                    "type": "number"
                                  }
                                },
                                "additionalProperties": false,
                                "required": ["lat", "lon"]
                              }
                            },
                            "additionalProperties": false,
                            "required": ["nw", "se"]
                          }
                        },
                        "additionalProperties": false,
                        "required": ["type", "geometry"]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "enum": ["polygon", "rectangle", "circle"],
                            "type": "string"
                          },
                          "geometry": {
                            "type": "object",
                            "properties": {
                              "center": {
                                "type": "object",
                                "properties": {
                                  "lat": {
                                    "type": "number"
                                  },
                                  "lon": {
                                    "type": "number"
                                  }
                                },
                                "additionalProperties": false,
                                "required": ["lat", "lon"]
                              },
                              "radius": {
                                "type": "number"
                              }
                            },
                            "additionalProperties": false,
                            "required": ["radius"]
                          }
                        },
                        "additionalProperties": false,
                        "required": ["type", "geometry"]
                      }
                    ]
                  },
                  "id": {
                    "type": "string"
                  },
                  "createdAt": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "updatedAt": {
                    "type": "string",
                    "format": "date-time"
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CS1BDNDT1M034ZHZWHRF99SS",
                        "projectId": "01CS1BDNDQP2QZRWA4JW3WX029",
                        "name": "new name",
                        "type": "geometry",
                        "tags": null,
                        "address": "",
                        "model": {
                          "type": "rectangle",
                          "geometry": {
                            "nw": {
                              "lat": 45.6361321,
                              "lon": 13.061487599999964
                            },
                            "se": {
                              "lat": 45.6361321,
                              "lon": 13.061487599999964
                            }
                          }
                        },
                        "createdAt": "2018-10-05T03:32:50.000Z",
                        "updatedAt": "2018-10-05T05:32:50.508Z"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "update landmark by id",
        "tags": ["landmark"]
      },
      "delete": {
        "responses": {
          "204": {
            "description": "success"
          }
        },
        "summary": "delete landmark by id",
        "tags": ["landmark"]
      }
    },
    "/v2/events": {
      "operationId": "post-v2-events",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "deviceId": {
                    "type": "string"
                  },
                  "channelId": {
                    "type": "string"
                  },
                  "datePath": {
                    "default": "serverReceivedAt",
                    "type": "string"
                  },
                  "to": {
                    "default": 1538717586950,
                    "oneOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "from": {
                    "oneOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "limit": {
                    "default": 100,
                    "type": "number"
                  },
                  "sinceId": {
                    "type": "number"
                  },
                  "sort": {
                    "default": {
                      "field": "serverReceivedAt",
                      "order": "desc"
                    },
                    "type": "object",
                    "properties": {
                      "field": {
                        "default": "serverReceivedAt",
                        "type": "string"
                      },
                      "order": {
                        "default": "desc",
                        "enum": ["desc", "asc"],
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "filter": {
                    "type": "object",
                    "properties": {},
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "id": "01CS1BDW5P6ZSJ8XPQTKZ7R31G",
                          "organizationId": "01CS1BDW59NBSMRAT9PN4637AA",
                          "channelId": "01CS1BDW5JN3W44CZSYAB2A6F6",
                          "deviceId": "01CS1BDW5PAE8VMFHXH22AS4CX",
                          "serverReceivedAt": "2018-10-04T19:26:10.229Z",
                          "payload": {
                            "tempC": 23
                          }
                        }
                      ],
                      "meta": {
                        "filteredTotal": 1,
                        "total": 3
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "you dont have access to this channel"
          }
        },
        "summary": "list events",
        "tags": ["events"]
      }
    },
    "/v2/events/metrics": {
      "operationId": "post-v2-events-metrics",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "channelId": {
                    "type": "string"
                  },
                  "from": {
                    "oneOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "to": {
                    "oneOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "interval": {
                    "default": "1d",
                    "oneOf": [
                      {
                        "type": "string"
                      },
                      {
                        "enum": [false],
                        "type": "boolean"
                      }
                    ]
                  },
                  "metricPath": {
                    "type": "string"
                  },
                  "datePath": {
                    "default": "serverReceivedAt",
                    "type": "string"
                  },
                  "operation": {
                    "default": "avg",
                    "type": "string"
                  },
                  "timezone": {
                    "type": "string"
                  },
                  "filter": {
                    "type": "object",
                    "properties": {},
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false,
                "required": ["channelId", "timezone"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "value": 20,
                          "count": 3,
                          "ts": "2018-09-30T22:00:00.000Z"
                        },
                        {
                          "value": null,
                          "count": 0,
                          "ts": "2018-10-01T22:00:00.000Z"
                        },
                        {
                          "value": null,
                          "count": 0,
                          "ts": "2018-10-02T22:00:00.000Z"
                        },
                        {
                          "value": 20,
                          "count": 3,
                          "ts": "2018-10-03T22:00:00.000Z"
                        }
                      ],
                      "meta": {
                        "filteredTotal": 6,
                        "total": 6
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "you dont have access to this channel"
          }
        },
        "summary": "returns event metric results",
        "tags": ["events"]
      }
    },
    "/v2/gateways": {
      "operationId": "get-v2-gateways",
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "id": "01CS1BDX7P3H85Q6EBKVEFDPAZ",
                          "organizationId": "01CS1BDX7C3M3AB1BE5FKQJEW3",
                          "name": "my gateway",
                          "createdAt": "2018-10-05T03:32:58.000Z",
                          "updatedAt": "2018-10-05T03:32:58.000Z",
                          "syncedAt": "2018-10-05T03:32:58.000Z"
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "list gateways",
        "tags": ["gateways"]
      }
    },
    "/v2/gateways/:gateway": {
      "parameters": [
        {
          "name": "gateway",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "delete-v2-gateways-:gateway",
      "patch": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "organizationId": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "updatedAt": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "createdAt": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "syncedAt": {
                    "type": "string",
                    "format": "date-time"
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CS1BDXDENK24SHWRM121T37T",
                        "organizationId": "01CS1BDXCX64MQJNNYPWNP9213",
                        "name": "my awesome gateway",
                        "createdAt": "2018-10-05T03:32:58.000Z",
                        "updatedAt": "2018-10-05T05:32:58.710Z",
                        "syncedAt": "2018-10-05T03:32:58.000Z"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "update gateway by id",
        "tags": ["gateways"]
      },
      "delete": {
        "responses": {
          "204": {
            "description": "success"
          }
        },
        "summary": "delete gateway by id",
        "tags": ["gateways"]
      }
    }
  }
}
