{
  "openapi": "3.0.1",
  "info": {
    "title": "Sense Api",
    "version": "2.0.0",
    "description": "# Introduction\nThe Sense API is a RESTful JSON API that allows developers to access the majority of the Sense platformâ€™s functionality, such as:\n\n- Creating and managing user accounts within the organization\n- Configuring data channels and projects to organize rules and collections of data streams\n- Defining landmarks around areas of interest for geographical-based triggers\n- Specifying additional data attributes or time constraints for evaluation\n- Building rules around these various conditions and the corresponding actions to be executed\n\n# Authenticate\nThe Sense API authenticates requests with a user-specific JSON web token through Bearer authentication.\n\nTo get this token, the user makes a POST [/v2/login](/apis/sense-api#/Authenticate/post_v2_login) request with their email and password combination. _These are the same credentials used to log into your account on the dashboard._\n"
  },
  "paths": {
    "": {
      "operationId": "get",
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "version": "0.1.1"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "api version"
      }
    },
    "/v2/signup": {
      "operationId": "post-v2-signup",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "password": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 64
                  },
                  "organizationName": {
                    "type": "string",
                    "minLength": 1
                  },
                  "locale": {
                    "type": "object",
                    "properties": {
                      "timezone": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false,
                "required": ["email", "password", "name", "organizationName"]
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "success"
          },
          "409": {
            "description": "user already exists"
          }
        },
        "summary": "signup user",
        "tags": ["authenticate"]
      }
    },
    "/v2/verify-email": {
      "operationId": "post-v2-verify-email",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "token": {
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": ["token"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwMUNSWlY2NUgxR1pNMjU2V0RFSllTRVhaSiIsInR5cGUiOiJhY2Nlc3MiLCJvcmdhbml6YXRpb25JZCI6IjAxQ1JaVjY1TTFaMzNHUjRKNFlFQk5SRzFDIiwia2lkIjoidXNlciIsImlhdCI6MTUzODY2Njk5MywiZXhwIjoxNTQxMjU4OTkzfQ.FGCozwoyl00rmpi3am9zskLPeB8xFiF3bA_JZ5eU97E"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "user does not exists"
          }
        },
        "summary": "verify email",
        "tags": ["authenticate"]
      }
    },
    "/v2/login": {
      "operationId": "post-v2-login",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": ["email", "password"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwMUNSWlY2NVhRNzY0QTI4UVBLQlA4MEMzRyIsInR5cGUiOiJhY2Nlc3MiLCJvcmdhbml6YXRpb25JZCI6IjAxQ1JaVjY2MENHQUhCTlFaMjdXQVRYUTJTIiwia2lkIjoidXNlciIsImlhdCI6MTUzODY2Njk5MywiZXhwIjoxNTQxMjU4OTkzfQ.s1eRTzgmI9WpRj4z-EJ2wd2_RsPDs75pDNBxknmlj8A"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Invalid authorization credentials"
          },
          "403": {
            "description": "you need to verify your email"
          }
        },
        "summary": "login",
        "tags": ["authenticate"]
      }
    },
    "/v2/request-password": {
      "operationId": "post-v2-request-password",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email"
                  }
                },
                "additionalProperties": false,
                "required": ["email"]
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "success"
          }
        },
        "summary": "request new password",
        "tags": ["authenticate"]
      }
    },
    "/v2/set-password": {
      "operationId": "post-v2-set-password",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "token": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": ["token", "password"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwMUNSWlY2Njc5RlNYV0dXWDFLNVNSUlo5NiIsInR5cGUiOiJhY2Nlc3MiLCJvcmdhbml6YXRpb25JZCI6IjAxQ1JaVjY2QUJFVkFIREVTWFAxQU5XV0dNIiwia2lkIjoidXNlciIsImlhdCI6MTUzODY2Njk5NCwiZXhwIjoxNTQxMjU4OTk0fQ.eOezbUx1bTKpc6AC92vWWc-UqK_1ftzLOcF-lDlyO7g"
                      }
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "user does not exists"
          }
        },
        "summary": "set new password",
        "tags": ["authenticate"]
      }
    },
    "/v2/set-organization": {
      "operationId": "post-v2-set-organization",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "organizationId": {
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": ["organizationId"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwMUNSWlY2NkU3MjA1Rk5RUkNONU1EWUo1WSIsInR5cGUiOiJhY2Nlc3MiLCJvcmdhbml6YXRpb25JZCI6IjAxQ1JaVjY2SEJLR04wRlFYTTNKSlRBVlBQIiwia2lkIjoidXNlciIsImlhdCI6MTUzODY2Njk5NCwiZXhwIjoxNTQxMjU4OTk0fQ.Of5-alZvmnlE4X6x0UJHq_U0ZHhLIwpJXAn5Wc6wnbY"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "you don't have access to the organiation by that id"
          }
        },
        "summary": "change organization (token)",
        "tags": ["authenticate"]
      }
    },
    "/v2/accept-invite": {
      "operationId": "post-v2-accept-invite",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "token": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string",
                    "maxLength": 64
                  },
                  "password": {
                    "type": "string"
                  },
                  "locale": {
                    "type": "object",
                    "properties": {
                      "timezone": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false,
                "required": ["token", "name", "password"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwMUNSWlY2NVNCRjIxM1ExRkJQWkdYS1dSOSIsInR5cGUiOiJhY2Nlc3MiLCJvcmdhbml6YXRpb25JZCI6IjAxQ1JaVjY1UzFSVkhWSzg5UlMyQlRLWTJKIiwia2lkIjoidXNlciIsImlhdCI6MTUzODY2Njk5MywiZXhwIjoxNTQxMjU4OTkzfQ.OpAm2dqlmyKrSH-VPj6yv2xSl9vUwwiKhcdycLHn9eg"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "inviteOrganizationId does not match an organization"
          },
          "401": {
            "description": "invite has been revoked"
          }
        },
        "summary": "accept invite",
        "tags": ["authenticate"]
      }
    },
    "/v2/users": {
      "operationId": "get-v2-users",
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "id": "01CRZV6E6KTP99B71WP4RTY0PH",
                          "name": "monsterbob",
                          "email": "email-0.2326632509699671@bob.com",
                          "verifiedEmail": false,
                          "locale": {},
                          "createdAt": "2018-10-04T13:30:02.000Z",
                          "updatedAt": "2018-10-04T13:30:02.000Z",
                          "permissions": {
                            "admin": true
                          },
                          "inviteOutstanding": false
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "list users",
        "tags": ["users"]
      }
    },
    "/v2/users/me": {
      "operationId": "patch-v2-users-me",
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CRZV6EBXJHZJEZ7JKT8ZVGT5",
                        "name": "monsterbob",
                        "email": "email-0.8561172843733889@bob.com",
                        "verifiedEmail": false,
                        "locale": {},
                        "createdAt": "2018-10-04T13:30:02.000Z",
                        "updatedAt": "2018-10-04T13:30:02.000Z"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "get authenticated user",
        "tags": ["users"]
      },
      "patch": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "locale": {
                    "type": "object",
                    "properties": {
                      "timezone": {
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CRZV6EFVBPJGP505P1FNP4XD",
                        "name": "monsterbob",
                        "email": "email-0.5794396370922767@bob.com",
                        "verifiedEmail": false,
                        "locale": {
                          "timezone": "Europa/Amsterdam"
                        },
                        "createdAt": "2018-10-04T13:30:02.000Z",
                        "updatedAt": "2018-10-04T15:30:02.463Z"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "update authenticated user",
        "tags": ["users"]
      }
    },
    "/v2/users/invite": {
      "operationId": "post-v2-users-invite",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "emails": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "email"
                    }
                  },
                  "role": {
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": ["emails"]
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "success"
          },
          "401": {
            "description": "only organization admins can invite users"
          }
        },
        "summary": "invite users",
        "tags": ["users"]
      }
    },
    "/v2/organizations": {
      "operationId": "post-v2-organizations",
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "id": "01CRZV6HTY2SJWX15XYTNTHS04",
                          "name": "my organization",
                          "createdAt": "2018-10-04T13:30:05.000Z",
                          "updatedAt": "2018-10-04T13:30:05.000Z",
                          "permissions": {
                            "admin": true
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "get organizations",
        "tags": ["organizations"]
      },
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CRZV6J2N0VZX26QQZY8Y2F8B",
                        "name": "new organization 1538667006019",
                        "updatedAt": "2018-10-04T15:30:06.037Z",
                        "createdAt": "2018-10-04T15:30:06.037Z",
                        "permissions": {
                          "admin": true
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "create organization",
        "tags": ["organizations"]
      }
    },
    "/v2/organizations/:organization": {
      "parameters": [
        {
          "name": "organization",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "delete-v2-organizations-:organization",
      "patch": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CRZV6J5XWNNZK2K5BVVQJQQB",
                        "name": "new name",
                        "createdAt": "2018-10-04T13:30:06.000Z",
                        "updatedAt": "2018-10-04T15:30:06.163Z",
                        "permissions": {
                          "admin": true
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "update organization by id",
        "tags": ["organizations"]
      },
      "delete": {
        "responses": {
          "204": {
            "description": "success"
          }
        },
        "summary": "delete organization by id",
        "tags": ["organizations"]
      }
    },
    "/v2/channels": {
      "operationId": "post-v2-channels",
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "id": "01CRZV6F9ZEWJFP2M4QMM9DK89",
                          "organizationId": "01CRZV6F9KN9FNX80HJT1XCKCK",
                          "schemaId": "01CRZV6F9ZBR6YCV8M6EMTEPA7",
                          "name": "my project",
                          "type": "android",
                          "method": "",
                          "credentials": null,
                          "createdAt": "2018-10-04T13:30:03.000Z",
                          "updatedAt": "2018-10-04T13:30:03.000Z",
                          "projectIds": []
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "list channels",
        "tags": ["channels"]
      },
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "projectIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "credentials": {
                    "enum": [null],
                    "type": "string"
                  },
                  "method": {
                    "enum": [null],
                    "type": "string"
                  },
                  "type": {
                    "enum": ["android", "ios", "gateway"],
                    "type": "string"
                  },
                  "schemaId": {
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": ["name", "type"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CRZV6FGZ5RDRBZTKWVHXEEYW",
                        "name": "new name",
                        "type": "gateway",
                        "schemaId": "01CRZV6FEX6GMJ1ZSHZJANXFAV",
                        "organizationId": "01CRZV6FE4B3SMZ95KAV0DWTWX",
                        "updatedAt": "2018-10-04T15:30:03.423Z",
                        "createdAt": "2018-10-04T15:30:03.423Z",
                        "projectIds": []
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "bad schemaId"
          }
        },
        "summary": "create channel",
        "tags": ["channels"]
      }
    },
    "/v2/channels/:channel": {
      "parameters": [
        {
          "name": "channel",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "delete-v2-channels-:channel",
      "patch": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "projectIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "credentials": {
                    "enum": [null],
                    "type": "string"
                  },
                  "method": {
                    "enum": [null],
                    "type": "string"
                  },
                  "type": {
                    "enum": ["android", "ios", "gateway"],
                    "type": "string"
                  },
                  "schemaId": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "organizationId": {
                    "type": "string"
                  },
                  "updatedAt": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "createdAt": {
                    "type": "string",
                    "format": "date-time"
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CRZV6FTK37VAXVS9APF18QFH",
                        "organizationId": "01CRZV6FSZDVQ8E7QZHE9VFMBR",
                        "schemaId": "01CRZV6FTKXRE9723YP8XVP4WJ",
                        "name": "new name",
                        "type": "android",
                        "method": "",
                        "credentials": null,
                        "createdAt": "2018-10-04T13:30:03.000Z",
                        "updatedAt": "2018-10-04T15:30:03.778Z",
                        "projectIds": ["01CRZV6FTDFGS52MKWS934H5M2"]
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "update channel by id",
        "tags": ["channels"]
      },
      "delete": {
        "responses": {},
        "summary": "delete channel by id",
        "tags": ["channels"]
      }
    },
    "/v2/channels/:channel/config": {
      "parameters": [
        {
          "name": "channel",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "post-v2-channels-:channel-config",
      "get": {
        "responses": {}
      },
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "config": {
                    "type": "object",
                    "properties": {},
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false,
                "required": ["config"]
              }
            }
          }
        },
        "responses": {}
      }
    },
    "/v2/channels/:channel/api-keys": {
      "parameters": [
        {
          "name": "channel",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "post-v2-channels-:channel-api-keys",
      "get": {
        "responses": {},
        "summary": "get api keys for a channel",
        "tags": ["channels"]
      },
      "post": {
        "responses": {},
        "summary": "create api keys for a channel",
        "tags": ["channels"]
      }
    },
    "/v2/channels/:channel/api-keys/:apiKey/enable": {
      "parameters": [
        {
          "name": "channel",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "apiKey",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "post-v2-channels-:channel-api-keys-:apiKey-enable",
      "post": {
        "responses": {},
        "summary": "enable api key",
        "tags": ["channels"]
      }
    },
    "/v2/channels/:channel/api-keys/:apiKey/disable": {
      "parameters": [
        {
          "name": "channel",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "apiKey",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "post-v2-channels-:channel-api-keys-:apiKey-disable",
      "post": {
        "responses": {},
        "summary": "disable api key",
        "tags": ["channels"]
      }
    },
    "/v2/channels/:channel/api-keys/:apiKey": {
      "parameters": [
        {
          "name": "channel",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "apiKey",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "delete-v2-channels-:channel-api-keys-:apiKey",
      "delete": {
        "responses": {},
        "summary": "delete api key",
        "tags": ["channels"]
      }
    },
    "/v2/schemas": {
      "operationId": "post-v2-schemas",
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "id": "01CRZV6BS3C4EKFK3YV5WQXERW",
                          "organizationId": "01CRZV6BRPWHCMAQGQAM8RC1K4",
                          "name": "some name",
                          "format": "json",
                          "type": "default",
                          "fields": [
                            {
                              "id": "path",
                              "type": "string",
                              "isArray": true
                            }
                          ],
                          "createdAt": "2018-10-04T13:29:59.000Z",
                          "updatedAt": "2018-10-04T13:29:59.000Z"
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "list schemas",
        "tags": ["schemas"]
      },
      "post": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CRZV6BN8ENE69J1410ZD0JYX",
                        "type": "default",
                        "organizationId": "01CRZV6BM545070B4A5ENT0386",
                        "name": "name 1538666999441",
                        "format": "json",
                        "fields": [
                          {
                            "id": "path",
                            "type": "string"
                          }
                        ],
                        "updatedAt": "2018-10-04T15:29:59.464Z",
                        "createdAt": "2018-10-04T15:29:59.464Z"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "create schema",
        "tags": ["schemas"]
      }
    },
    "/v2/schemas/:schema": {
      "parameters": [
        {
          "name": "schema",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "delete-v2-schemas-:schema",
      "patch": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CRZV6C45ZN2DNQPSHSYD2K3C",
                        "organizationId": "01CRZV6C3VJ1R7AFBKWTG0B50Y",
                        "name": "schema-name",
                        "format": "json",
                        "type": "default",
                        "fields": [
                          {
                            "id": "path",
                            "type": "string",
                            "isArray": true
                          },
                          {
                            "id": "other",
                            "type": "string"
                          }
                        ],
                        "createdAt": "2018-10-04T13:29:59.000Z",
                        "updatedAt": "2018-10-04T15:30:00.062Z"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "update schema by id",
        "tags": ["schemas"]
      },
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CRZV6BWHF5VPBQ6BKFT3G5WJ",
                        "organizationId": "01CRZV6BW9DFVFCA7WDGHYTEVM",
                        "name": "some name",
                        "format": "json",
                        "type": "default",
                        "fields": [
                          {
                            "id": "path",
                            "type": "string",
                            "isArray": true
                          }
                        ],
                        "createdAt": "2018-10-04T13:29:59.000Z",
                        "updatedAt": "2018-10-04T13:29:59.000Z"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "get schema by id",
        "tags": ["schemas"]
      },
      "delete": {
        "responses": {
          "204": {
            "description": "success"
          }
        },
        "summary": "delete schema by id",
        "tags": ["schemas"]
      }
    },
    "/v2/projects": {
      "operationId": "post-v2-projects",
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "id": "01CRZV6GA3CQEYWM6CRBREHB51",
                          "organizationId": "01CRZV6G9SMGPP3WZT3KGJ8VSD",
                          "name": "my project",
                          "createdAt": "2018-10-04T13:30:04.000Z",
                          "updatedAt": "2018-10-04T13:30:04.000Z",
                          "channelIds": ["01CRZV6GA7HWRFFR8RZYS77WJN"]
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "list projects",
        "tags": ["projects"]
      },
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "channelIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false,
                "required": ["name"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CRZV6GFVS3ZRGWT6YCXTKNTG",
                        "name": "new project",
                        "organizationId": "01CRZV6GEJ9039MD0E5G4B71Q4",
                        "updatedAt": "2018-10-04T15:30:04.411Z",
                        "createdAt": "2018-10-04T15:30:04.411Z",
                        "channelIds": ["01CRZV6GET0PNEME9FMDG6CDPS"]
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "create project",
        "tags": ["projects"]
      }
    },
    "/v2/projects/:project": {
      "parameters": [
        {
          "name": "project",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "delete-v2-projects-:project",
      "patch": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "organizationId": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "channelIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "updatedAt": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "createdAt": {
                    "type": "string",
                    "format": "date-time"
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CRZV6GJZSHH0B71Q0J04B954",
                        "organizationId": "01CRZV6GJRM49Y1YB0620S687W",
                        "name": "new project",
                        "createdAt": "2018-10-04T13:30:04.000Z",
                        "updatedAt": "2018-10-04T15:30:04.529Z",
                        "channelIds": []
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "update project by id",
        "tags": ["projects"]
      },
      "delete": {
        "responses": {
          "204": {
            "description": "success"
          }
        },
        "summary": "delete project by id",
        "tags": ["projects"]
      }
    },
    "/v2/rules": {
      "operationId": "post-v2-rules",
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "id": "01CRZV6D3CF3DDDC2YWQTVP2NX",
                          "projectId": "01CRZV6D39EMX1F53J60VSGKHJ",
                          "name": "rule",
                          "type": "cloud",
                          "description": "",
                          "actions": [],
                          "conditionsAndActions": [],
                          "conditions": "event.path == 1",
                          "gatewayIds": [],
                          "channelIds": [],
                          "createdAt": "2018-10-04T13:30:00.000Z",
                          "updatedAt": "2018-10-04T13:30:00.000Z",
                          "generator": "custom",
                          "enabled": true
                        }
                      ],
                      "meta": {
                        "count": 1
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "list rules",
        "tags": ["rules"]
      },
      "post": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CRZV6DKX2SN736S998DNCE1M",
                        "conditionsAndActions": [],
                        "gatewayIds": [],
                        "channelIds": [],
                        "generator": "custom",
                        "name": "somename",
                        "type": "cloud",
                        "projectId": "01CRZV6DKD98BCKM8C9WCSG2CV",
                        "conditionsObject": [
                          {
                            "type": "and",
                            "items": [
                              {
                                "type": "schedule",
                                "date": {
                                  "from": "2018-09-05T06:11:24.000Z"
                                },
                                "timeOfDay": {
                                  "from": 1,
                                  "to": 100
                                }
                              },
                              {
                                "type": "and",
                                "items": [
                                  {
                                    "type": "matchAttribute",
                                    "channelId": "someid",
                                    "attribute": "event.name",
                                    "operator": "==",
                                    "value": "monster",
                                    "description": "When event (event.name) from \"unknown channel someid\" is equal to monster"
                                  }
                                ]
                              }
                            ]
                          }
                        ],
                        "actions": [
                          {
                            "type": "sms",
                            "message": "hello world",
                            "recipients": {
                              "reflect": true,
                              "telephoneNumbers": ["12342323"]
                            }
                          }
                        ],
                        "enabled": true,
                        "properties": {},
                        "conditions": "(timeOfDay('<', 1) && timeOfDay('>', 100) && date('<', '2018-09-05T06:11:24.000Z') && event.channelId == 'someid' && event.name == 'monster')",
                        "updatedAt": "2018-10-04T15:30:01.469Z",
                        "createdAt": "2018-10-04T15:30:01.469Z"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "you dont have access to this project"
          }
        },
        "summary": "create rules",
        "tags": ["rules"]
      }
    },
    "/v2/rules/:rule": {
      "parameters": [
        {
          "name": "rule",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "delete-v2-rules-:rule",
      "get": {
        "responses": {},
        "summary": "get rule by id",
        "tags": ["rules"]
      },
      "patch": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CRZV6DQ03R6Z0BSXKN9X03YP",
                        "projectId": "01CRZV6DPW82A3MNM3EBJ6GMR0",
                        "name": "new name",
                        "type": "cloud",
                        "description": "",
                        "actions": [
                          {
                            "type": "sms",
                            "message": "hello world",
                            "recipients": {
                              "reflect": true,
                              "telephoneNumbers": ["12342323"]
                            }
                          }
                        ],
                        "conditionsAndActions": [],
                        "conditions": "event.channelId == 'someid' && event.name == 'tony\\'s'",
                        "conditionsObject": [
                          {
                            "type": "and",
                            "items": [
                              {
                                "type": "matchAttribute",
                                "channelId": "someid",
                                "attribute": "event.name",
                                "operator": "==",
                                "value": "tony's",
                                "description": "When event (event.name) from \"unknown channel someid\" is equal to tony's"
                              }
                            ]
                          }
                        ],
                        "gatewayIds": [],
                        "channelIds": [],
                        "createdAt": "2018-10-04T13:30:01.000Z",
                        "updatedAt": "2018-10-04T15:30:01.593Z",
                        "generator": "custom",
                        "enabled": true
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "failed to convert to valid conditions"
          }
        },
        "summary": "update rule by id",
        "tags": ["rules"]
      },
      "delete": {
        "responses": {
          "204": {
            "description": "success"
          }
        },
        "summary": "delete rule by id",
        "tags": ["rules"]
      }
    },
    "/v2/rules/validate-conditions": {
      "operationId": "post-v2-rules-validate-conditions",
      "post": {
        "responses": {},
        "summary": "validate condition string",
        "tags": ["rules"]
      }
    },
    "/v2/devices/:id": {
      "parameters": [
        {
          "name": "id",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "get-v2-devices-:id",
      "get": {
        "responses": {},
        "summary": "get device by id",
        "tags": ["devices"]
      }
    },
    "/v2/devices/alias-lookup": {
      "operationId": "post-v2-devices-alias-lookup",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "type": {
                    "enum": ["tel"],
                    "type": "string"
                  },
                  "value": {
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": ["type", "value"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": "device id"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "look up device by alias",
        "tags": ["devices"]
      }
    },
    "/v2/devices/search": {
      "operationId": "post-v2-devices-search",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "channelId": {
                    "type": "string"
                  },
                  "projectId": {
                    "type": "string"
                  },
                  "filter": {
                    "type": "object",
                    "properties": {},
                    "additionalProperties": false
                  },
                  "limit": {
                    "default": 20,
                    "type": "number"
                  },
                  "offset": {
                    "type": "number"
                  },
                  "sort": {
                    "type": "object",
                    "properties": {
                      "field": {
                        "default": "createdAt",
                        "type": "string"
                      },
                      "order": {
                        "default": "desc",
                        "enum": ["desc", "asc"],
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "id": "01CRZV69450D6QXHFX02EJAZRD",
                          "sensors": "",
                          "name": "device",
                          "channelId": "01CRZV693CMZXTD4DV9XMC2705",
                          "organizationId": "01CRZV69334Y4ZV7ABE7NYXERS",
                          "tags": ["working"],
                          "updatedAt": "2018-10-04T15:29:56.870Z",
                          "createdAt": "2018-10-04T15:29:56.870Z"
                        }
                      ],
                      "meta": {
                        "filteredTotal": 2,
                        "total": 2
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "list devices",
        "tags": ["devices"]
      }
    },
    "/v2/devices": {
      "operationId": "post-v2-devices",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "model": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "channelId": {
                    "type": "string"
                  }
                },
                "additionalProperties": false,
                "required": ["channelId"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CRZV6992FWCRYXEKX28SNTS6",
                        "sensors": "",
                        "name": "device",
                        "channelId": "01CRZV698FASNB62H94DB9MNGQ",
                        "organizationId": "01CRZV6987TGC94CMTC43RHXY6",
                        "updatedAt": "2018-10-04T15:29:57.026Z",
                        "createdAt": "2018-10-04T15:29:57.026Z",
                        "tags": []
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "create device",
        "tags": ["devices"]
      }
    },
    "/v2/devices/:device": {
      "parameters": [
        {
          "name": "device",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "delete-v2-devices-:device",
      "patch": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "model": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CRZV69G746SPHKYHW42BTWR5",
                        "channelId": "01CRZV69G3ZEFP84BDAZ8JHQ41",
                        "organizationId": "01CRZV69FVZS52MER2BE7197ZD",
                        "manufacturer": "",
                        "model": "",
                        "name": "new name",
                        "type": "",
                        "sensors": "",
                        "createdAt": "2018-10-04T13:29:57.000Z",
                        "updatedAt": "2018-10-04T15:29:57.293Z",
                        "tags": []
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "update device by id",
        "tags": ["devices"]
      },
      "delete": {
        "responses": {
          "204": {
            "description": "success"
          }
        },
        "summary": "delete device by id",
        "tags": ["devices"]
      }
    },
    "/v2/devices/:device/config": {
      "parameters": [
        {
          "name": "device",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "post-v2-devices-:device-config",
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "cadence": 0
                      },
                      "includes": [
                        {
                          "type": "channel",
                          "data": {
                            "cadence": 10000
                          }
                        },
                        {
                          "type": "effective",
                          "data": {
                            "cadence": 0
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "get device config",
        "tags": ["devices"]
      },
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "config": {
                    "type": "object",
                    "properties": {},
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false,
                "required": ["config"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "cadence": 0
                      },
                      "includes": [
                        {
                          "type": "channel",
                          "data": {
                            "cadence": 10000
                          }
                        },
                        {
                          "type": "effective",
                          "data": {
                            "cadence": 0
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "set device config",
        "tags": ["devices"]
      }
    },
    "/v2/landmarks/search": {
      "operationId": "post-v2-landmarks-search",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "projectId": {
                    "type": "string"
                  },
                  "limit": {
                    "default": 20,
                    "type": "number"
                  },
                  "offset": {
                    "type": "number"
                  },
                  "sort": {
                    "type": "object",
                    "properties": {
                      "field": {
                        "default": "createdAt",
                        "type": "string"
                      },
                      "order": {
                        "default": "desc",
                        "enum": ["desc", "asc"],
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "filter": {
                    "type": "object",
                    "properties": {},
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "id": "01CRZV67K15XYSC035Z8V16FQA",
                          "name": "landmarkA",
                          "projectId": "01CRZV67JXN7H3GV0TS1XWHBHB",
                          "type": "geometry",
                          "model": {
                            "type": "circle",
                            "geometry": {
                              "lat": 45.6361321,
                              "lon": 13.061487599999964,
                              "radius": 1
                            }
                          },
                          "createdAt": 0,
                          "organizationId": "01CRZV67JGR9XHBFJTH2NWCWA4"
                        },
                        {
                          "id": "01CRZV67KJ8XYFAR12DTF8RNWG",
                          "name": "landmarkB",
                          "projectId": "01CRZV67JXN7H3GV0TS1XWHBHB",
                          "type": "geometry",
                          "model": {
                            "type": "polygon",
                            "geometry": {
                              "points": [
                                {
                                  "lat": 45.6361321,
                                  "lon": 13.061487599999964
                                },
                                {
                                  "lat": 45.6361321,
                                  "lon": 13.061487599999964
                                },
                                {
                                  "lat": 45.6361321,
                                  "lon": 13.061487599999964
                                }
                              ]
                            }
                          },
                          "createdAt": 10,
                          "organizationId": "01CRZV67JGR9XHBFJTH2NWCWA4"
                        }
                      ],
                      "meta": {
                        "filteredTotal": 2,
                        "total": 2
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "list landmarks",
        "tags": ["landmark"]
      }
    },
    "/v2/landmarks": {
      "operationId": "post-v2-landmarks",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "projectId": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "type": {
                    "default": "geometry",
                    "enum": ["geometry"],
                    "type": "string"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "address": {
                    "type": "string"
                  },
                  "model": {
                    "oneOf": [
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "enum": ["polygon", "rectangle", "circle"],
                            "type": "string"
                          },
                          "geometry": {
                            "type": "object",
                            "properties": {
                              "points": {
                                "type": "array",
                                "minItems": 3,
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "lat": {
                                      "type": "number"
                                    },
                                    "lon": {
                                      "type": "number"
                                    }
                                  },
                                  "additionalProperties": false,
                                  "required": ["lat", "lon"]
                                }
                              }
                            },
                            "additionalProperties": false
                          }
                        },
                        "additionalProperties": false,
                        "required": ["type", "geometry"]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "enum": ["polygon", "rectangle", "circle"],
                            "type": "string"
                          },
                          "geometry": {
                            "type": "object",
                            "properties": {
                              "nw": {
                                "type": "object",
                                "properties": {
                                  "lat": {
                                    "type": "number"
                                  },
                                  "lon": {
                                    "type": "number"
                                  }
                                },
                                "additionalProperties": false,
                                "required": ["lat", "lon"]
                              },
                              "se": {
                                "type": "object",
                                "properties": {
                                  "lat": {
                                    "type": "number"
                                  },
                                  "lon": {
                                    "type": "number"
                                  }
                                },
                                "additionalProperties": false,
                                "required": ["lat", "lon"]
                              }
                            },
                            "additionalProperties": false,
                            "required": ["nw", "se"]
                          }
                        },
                        "additionalProperties": false,
                        "required": ["type", "geometry"]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "enum": ["polygon", "rectangle", "circle"],
                            "type": "string"
                          },
                          "geometry": {
                            "type": "object",
                            "properties": {
                              "center": {
                                "type": "object",
                                "properties": {
                                  "lat": {
                                    "type": "number"
                                  },
                                  "lon": {
                                    "type": "number"
                                  }
                                },
                                "additionalProperties": false,
                                "required": ["lat", "lon"]
                              },
                              "radius": {
                                "type": "number"
                              }
                            },
                            "additionalProperties": false,
                            "required": ["radius"]
                          }
                        },
                        "additionalProperties": false,
                        "required": ["type", "geometry"]
                      }
                    ]
                  }
                },
                "additionalProperties": false,
                "required": ["projectId", "name", "model"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CRZV680JRTVR77TWV1A5TP8R",
                        "name": "landmark",
                        "projectId": "01CRZV6802G2MFB8NE7EMRW660",
                        "type": "geometry",
                        "model": {
                          "type": "rectangle",
                          "geometry": {
                            "se": {
                              "lat": 45.6361321,
                              "lon": 13.061487599999964
                            },
                            "nw": {
                              "lat": 90,
                              "lon": 80
                            }
                          }
                        },
                        "updatedAt": "2018-10-04T15:29:55.731Z",
                        "createdAt": "2018-10-04T15:29:55.731Z"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "create landmark",
        "tags": ["landmark"]
      }
    },
    "/v2/landmarks/:landmark": {
      "parameters": [
        {
          "name": "landmark",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "delete-v2-landmarks-:landmark",
      "get": {
        "responses": {},
        "summary": "get landmark by id",
        "tags": ["landmark"]
      },
      "patch": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "projectId": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "type": {
                    "default": "geometry",
                    "enum": ["geometry"],
                    "type": "string"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "address": {
                    "type": "string"
                  },
                  "model": {
                    "oneOf": [
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "enum": ["polygon", "rectangle", "circle"],
                            "type": "string"
                          },
                          "geometry": {
                            "type": "object",
                            "properties": {
                              "points": {
                                "type": "array",
                                "minItems": 3,
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "lat": {
                                      "type": "number"
                                    },
                                    "lon": {
                                      "type": "number"
                                    }
                                  },
                                  "additionalProperties": false,
                                  "required": ["lat", "lon"]
                                }
                              }
                            },
                            "additionalProperties": false
                          }
                        },
                        "additionalProperties": false,
                        "required": ["type", "geometry"]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "enum": ["polygon", "rectangle", "circle"],
                            "type": "string"
                          },
                          "geometry": {
                            "type": "object",
                            "properties": {
                              "nw": {
                                "type": "object",
                                "properties": {
                                  "lat": {
                                    "type": "number"
                                  },
                                  "lon": {
                                    "type": "number"
                                  }
                                },
                                "additionalProperties": false,
                                "required": ["lat", "lon"]
                              },
                              "se": {
                                "type": "object",
                                "properties": {
                                  "lat": {
                                    "type": "number"
                                  },
                                  "lon": {
                                    "type": "number"
                                  }
                                },
                                "additionalProperties": false,
                                "required": ["lat", "lon"]
                              }
                            },
                            "additionalProperties": false,
                            "required": ["nw", "se"]
                          }
                        },
                        "additionalProperties": false,
                        "required": ["type", "geometry"]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "type": {
                            "enum": ["polygon", "rectangle", "circle"],
                            "type": "string"
                          },
                          "geometry": {
                            "type": "object",
                            "properties": {
                              "center": {
                                "type": "object",
                                "properties": {
                                  "lat": {
                                    "type": "number"
                                  },
                                  "lon": {
                                    "type": "number"
                                  }
                                },
                                "additionalProperties": false,
                                "required": ["lat", "lon"]
                              },
                              "radius": {
                                "type": "number"
                              }
                            },
                            "additionalProperties": false,
                            "required": ["radius"]
                          }
                        },
                        "additionalProperties": false,
                        "required": ["type", "geometry"]
                      }
                    ]
                  },
                  "id": {
                    "type": "string"
                  },
                  "createdAt": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "updatedAt": {
                    "type": "string",
                    "format": "date-time"
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CRZV684BSHKRNQAYGCFBVGRK",
                        "projectId": "01CRZV68479AP4MPKPDBMKQYZB",
                        "name": "new name",
                        "type": "geometry",
                        "tags": null,
                        "address": "",
                        "model": {
                          "type": "rectangle",
                          "geometry": {
                            "nw": {
                              "lat": 45.6361321,
                              "lon": 13.061487599999964
                            },
                            "se": {
                              "lat": 45.6361321,
                              "lon": 13.061487599999964
                            }
                          }
                        },
                        "createdAt": "2018-10-04T13:29:55.000Z",
                        "updatedAt": "2018-10-04T15:29:55.873Z"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "update landmark by id",
        "tags": ["landmark"]
      },
      "delete": {
        "responses": {
          "204": {
            "description": "success"
          }
        },
        "summary": "delete landmark by id",
        "tags": ["landmark"]
      }
    },
    "/v2/events": {
      "operationId": "post-v2-events",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "deviceId": {
                    "type": "string"
                  },
                  "channelId": {
                    "type": "string"
                  },
                  "datePath": {
                    "default": "serverReceivedAt",
                    "type": "string"
                  },
                  "to": {
                    "default": 1538667010566,
                    "oneOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "from": {
                    "oneOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "limit": {
                    "default": 100,
                    "type": "number"
                  },
                  "sinceId": {
                    "type": "number"
                  },
                  "sort": {
                    "default": {
                      "field": "serverReceivedAt",
                      "order": "desc"
                    },
                    "type": "object",
                    "properties": {
                      "field": {
                        "default": "serverReceivedAt",
                        "type": "string"
                      },
                      "order": {
                        "default": "desc",
                        "enum": ["desc", "asc"],
                        "type": "string"
                      }
                    },
                    "additionalProperties": false
                  },
                  "filter": {
                    "type": "object",
                    "properties": {},
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "id": "01CRZV6AMW853X1MKBWKEHDYMZ",
                          "organizationId": "01CRZV6AMH9079D6JEYBAF9EFY",
                          "channelId": "01CRZV6AMRKC4P3NWHPAQRRYXR",
                          "deviceId": "01CRZV6AMWJ2AAP8WA800SGYJC",
                          "serverReceivedAt": "2018-10-03T08:57:08.906Z",
                          "payload": {
                            "tempC": 23
                          }
                        }
                      ],
                      "meta": {
                        "filteredTotal": 1,
                        "total": 3
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "you dont have access to this channel"
          }
        },
        "summary": "list events",
        "tags": ["events"]
      }
    },
    "/v2/events/metrics": {
      "operationId": "post-v2-events-metrics",
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "channelId": {
                    "type": "string"
                  },
                  "from": {
                    "oneOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "to": {
                    "oneOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "number"
                      }
                    ]
                  },
                  "interval": {
                    "default": "1d",
                    "oneOf": [
                      {
                        "type": "string"
                      },
                      {
                        "enum": [false],
                        "type": "boolean"
                      }
                    ]
                  },
                  "metricPath": {
                    "type": "string"
                  },
                  "datePath": {
                    "default": "serverReceivedAt",
                    "type": "string"
                  },
                  "operation": {
                    "default": "avg",
                    "type": "string"
                  },
                  "timezone": {
                    "type": "string"
                  },
                  "filter": {
                    "type": "object",
                    "properties": {},
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false,
                "required": ["channelId", "timezone"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "value": 20,
                          "count": 3,
                          "ts": "2018-09-29T22:00:00.000Z"
                        },
                        {
                          "value": null,
                          "count": 0,
                          "ts": "2018-09-30T22:00:00.000Z"
                        },
                        {
                          "value": null,
                          "count": 0,
                          "ts": "2018-10-01T22:00:00.000Z"
                        },
                        {
                          "value": 20,
                          "count": 3,
                          "ts": "2018-10-02T22:00:00.000Z"
                        }
                      ],
                      "meta": {
                        "filteredTotal": 6,
                        "total": 6
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "you dont have access to this channel"
          }
        },
        "summary": "returns event metric results",
        "tags": ["events"]
      }
    },
    "/v2/gateways": {
      "operationId": "get-v2-gateways",
      "get": {
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": [
                        {
                          "id": "01CRZV6H3YPQB0D1H2V5E7QYXF",
                          "organizationId": "01CRZV6H3JRR2SFMBV90ACE3Z3",
                          "name": "my gateway",
                          "createdAt": "2018-10-04T13:30:05.000Z",
                          "updatedAt": "2018-10-04T13:30:05.000Z",
                          "syncedAt": "2018-10-04T13:30:05.000Z"
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "list gateways",
        "tags": ["gateways"]
      }
    },
    "/v2/gateways/:gateway": {
      "parameters": [
        {
          "name": "gateway",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ],
      "operationId": "delete-v2-gateways-:gateway",
      "patch": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "organizationId": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "updatedAt": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "createdAt": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "syncedAt": {
                    "type": "string",
                    "format": "date-time"
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "id": "01CRZV6H7X80CHV81C7SP27J75",
                        "organizationId": "01CRZV6H7N0B7ATJ4QRTVQT5Q1",
                        "name": "my awesome gateway",
                        "createdAt": "2018-10-04T13:30:05.000Z",
                        "updatedAt": "2018-10-04T15:30:05.203Z",
                        "syncedAt": "2018-10-04T13:30:05.000Z"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "update gateway by id",
        "tags": ["gateways"]
      },
      "delete": {
        "responses": {
          "204": {
            "description": "success"
          }
        },
        "summary": "delete gateway by id",
        "tags": ["gateways"]
      }
    }
  }
}
